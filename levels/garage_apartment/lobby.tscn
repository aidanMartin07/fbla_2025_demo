[gd_scene load_steps=8 format=4 uid="uid://visdwtu7fi5s"]

[ext_resource type="TileSet" uid="uid://burjyyjscdpp5" path="res://assets/tilesets/revamp/indoor_tileset.tres" id="1_pm3e6"]
[ext_resource type="PackedScene" uid="uid://1rhepn4vjimj" path="res://entities/player/player.tscn" id="2_eba4g"]
[ext_resource type="Script" uid="uid://pr3i6arh51ct" path="res://levels/garage_apartment/transition_manager.gd" id="3_pvlsy"]
[ext_resource type="Script" uid="uid://dnwf3ha7latv3" path="res://managers/day_night/lights.gd" id="4_33b1u"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_pvlsy"]
size = Vector2(62, 32)

[sub_resource type="Gradient" id="Gradient_33b1u"]
colors = PackedColorArray(0.753984, 0.753984, 0.753984, 1, 0, 0, 0, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_5mx2h"]
gradient = SubResource("Gradient_33b1u")
fill = 1
fill_from = Vector2(0.5, 0.5)
fill_to = Vector2(0.880342, 0.0940171)

[node name="World" type="Node2D"]
y_sort_enabled = true

[node name="GroundTiles" type="Node2D" parent="."]

[node name="Ground" type="TileMapLayer" parent="GroundTiles"]
z_index = -3
y_sort_enabled = true
tile_map_data = PackedByteArray("AAD3//v/AAAGAAsAAAD3//z/AAAGAAwAAAD3//3/AAAGAAwAAAD3//7/AAAGAAwAAAD3////AAAGAAwAAAD3/wAAAAAGAAwAAAD3/wEAAAAGAAwAAAD3/wIAAAAGAAwAAAD3/wMAAAAGAAwAAAD3/wQAAAAGAAwAAAD4//v/AAAHAAsAAAD4//z/AAAIAAwAAAD4//3/AAAHAAwAAAD4//7/AAAHAAwAAAD4////AAAIAAwAAAD4/wAAAAAIAAwAAAD4/wEAAAAIAAwAAAD4/wIAAAAHAAwAAAD4/wMAAAAIAAwAAAD4/wQAAAAHAAwAAAD5//v/AAAHAAsAAAD5//z/AAAHAAwAAAD5//3/AAAIAAwAAAD5//7/AAAIAAwAAAD5////AAAHAAwAAAD5/wAAAAAIAAwAAAD5/wEAAAAIAAwAAAD5/wIAAAAIAAwAAAD5/wMAAAAHAAwAAAD5/wQAAAAHAAwAAAD6//v/AAAHAAsAAAD6//z/AAAIAAwAAAD6//3/AAAIAAwAAAD6//7/AAAHAAwAAAD6////AAAIAAwAAAD6/wAAAAAHAAwAAAD6/wEAAAAIAAwAAAD6/wIAAAAHAAwAAAD6/wMAAAAHAAwAAAD6/wQAAAAHAAwAAAD7//v/AAAHAAsAAAD7//z/AAAIAAwAAAD7//3/AAAHAAwAAAD7//7/AAAHAAwAAAD7////AAAIAAwAAAD7/wAAAAAIAAwAAAD7/wEAAAAHAAwAAAD7/wIAAAAHAAwAAAD7/wMAAAAIAAwAAAD7/wQAAAAIAAwAAAD8//v/AAAHAAsAAAD8//z/AAAIAAwAAAD8//3/AAAIAAwAAAD8//7/AAAIAAwAAAD8////AAAHAAwAAAD8/wAAAAAHAAwAAAD8/wEAAAAIAAwAAAD8/wIAAAAIAAwAAAD8/wMAAAAHAAwAAAD8/wQAAAAIAAwAAAD9//v/AAAHAAsAAAD9//z/AAAHAAwAAAD9//3/AAAHAAwAAAD9//7/AAAHAAwAAAD9////AAAHAAwAAAD9/wAAAAAIAAwAAAD9/wEAAAAIAAwAAAD9/wIAAAAIAAwAAAD9/wMAAAAHAAwAAAD9/wQAAAAHAAwAAAD+//v/AAAHAAsAAAD+//z/AAAIAAwAAAD+//3/AAAHAAwAAAD+//7/AAAIAAwAAAD+////AAAHAAwAAAD+/wAAAAAIAAwAAAD+/wEAAAAIAAwAAAD+/wIAAAAIAAwAAAD+/wMAAAAHAAwAAAD+/wQAAAAIAAwAAAD///v/AAAHAAsAAAD///z/AAAIAAwAAAD///3/AAAHAAwAAAD///7/AAAIAAwAAAD/////AAAIAAwAAAD//wAAAAAIAAwAAAD//wEAAAAIAAwAAAD//wIAAAAHAAwAAAD//wMAAAAHAAwAAAD//wQAAAAHAAwAAAAAAPv/AAAHAAsAAAAAAPz/AAAHAAwAAAAAAP3/AAAIAAwAAAAAAP7/AAAHAAwAAAAAAP//AAAIAAwAAAAAAAAAAAAHAAwAAAAAAAEAAAAHAAwAAAAAAAIAAAAIAAwAAAAAAAMAAAAIAAwAAAAAAAQAAAAHAAwAAAABAPv/AAAHAAsAAAABAPz/AAAHAAwAAAABAP3/AAAHAAwAAAABAP7/AAAHAAwAAAABAP//AAAIAAwAAAABAAAAAAAHAAwAAAABAAEAAAAHAAwAAAABAAIAAAAHAAwAAAABAAMAAAAIAAwAAAABAAQAAAAIAAwAAAACAPz/AAAIAAwAAAACAP3/AAAIAAwAAAACAP7/AAAHAAwAAAACAP//AAAHAAwAAAACAAAAAAAIAAwAAAACAAEAAAAIAAwAAAACAAIAAAAIAAwAAAACAAMAAAAHAAwAAAACAAQAAAAIAAwAAAADAPz/AAAHAAwAAAADAP3/AAAHAAwAAAADAP7/AAAHAAwAAAADAP//AAAHAAwAAAADAAAAAAAHAAwAAAADAAEAAAAHAAwAAAADAAIAAAAIAAwAAAADAAMAAAAHAAwAAAADAAQAAAAIAAwAAAAEAPz/AAAHAAwAAAAEAP3/AAAIAAwAAAAEAP7/AAAHAAwAAAAEAP//AAAIAAwAAAAEAAAAAAAIAAwAAAAEAAEAAAAHAAwAAAAEAAIAAAAIAAwAAAAEAAMAAAAHAAwAAAAEAAQAAAAIAAwAAAAFAPv/AAAHAAsAAAAFAPz/AAAIAAwAAAAFAP3/AAAIAAwAAAAFAP7/AAAHAAwAAAAFAP//AAAHAAwAAAAFAAAAAAAHAAwAAAAFAAEAAAAHAAwAAAAFAAIAAAAIAAwAAAAFAAMAAAAHAAwAAAAFAAQAAAAIAAwAAAAGAPv/AAAHAAsAAAAGAPz/AAAIAAwAAAAGAP3/AAAIAAwAAAAGAP7/AAAHAAwAAAAGAP//AAAIAAwAAAAGAAAAAAAHAAwAAAAGAAEAAAAHAAwAAAAGAAIAAAAIAAwAAAAGAAMAAAAIAAwAAAAGAAQAAAAIAAwAAAAHAPv/AAAHAAsAAAAHAPz/AAAIAAwAAAAHAP3/AAAHAAwAAAAHAP7/AAAIAAwAAAAHAP//AAAHAAwAAAAHAAAAAAAIAAwAAAAHAAEAAAAIAAwAAAAHAAIAAAAIAAwAAAAHAAMAAAAHAAwAAAAHAAQAAAAIAAwAAAAIAPv/AAAIAAsAAAAIAPz/AAAIAAwAAAAIAP3/AAAHAAwAAAAIAP7/AAAHAAwAAAAIAP//AAAIAAwAAAAIAAAAAAAIAAwAAAAIAAEAAAAHAAwAAAAIAAIAAAAIAAwAAAAIAAMAAAAHAAwAAAAIAAQAAAAIAAwAAAAJAP3/AAAHAAsAAAAJAP7/AAAHAAwAAAAJAP//AAAHAAwAAAAJAAAAAAAHAAwAAAAJAAEAAAAHAAwAAAAJAAIAAAAIAAwAAAAKAP3/AAAHAAsAAAAKAP7/AAAIAAwAAAAKAP//AAAHAAwAAAAKAAAAAAAIAAwAAAAKAAEAAAAHAAwAAAAKAAIAAAAHAAwAAAALAP3/AAAHAAsAAAALAP7/AAAHAAwAAAALAP//AAAIAAwAAAALAAAAAAAIAAwAAAALAAEAAAAIAAwAAAALAAIAAAAHAAwAAAAMAP3/AAAHAAsAAAAMAP7/AAAIAAwAAAAMAP//AAAHAAwAAAAMAAAAAAAIAAwAAAAMAAEAAAAHAAwAAAAMAAIAAAAIAAwAAAANAP3/AAAIAAsAAAANAP7/AAAIAAwAAAANAP//AAAHAAwAAAANAAAAAAAHAAwAAAANAAEAAAAHAAwAAAANAAIAAAAHAAwAAAAOAP3/AAAIAAwAAAAOAP7/AAAIAAwAAAAOAP//AAAIAAwAAAAOAAAAAAAIAAwAAAAOAAEAAAAHAAwAAAAOAAIAAAAIAAwAAAAPAP3/AAAIAAwAAAAPAP7/AAAIAAwAAAAPAP//AAAIAAwAAAAPAAAAAAAHAAwAAAAPAAEAAAAHAAwAAAAPAAIAAAAHAAwAAAAQAP3/AAAHAAwAAAAQAP7/AAAHAAwAAAAQAP//AAAIAAwAAAAQAAAAAAAIAAwAAAAQAAEAAAAIAAwAAAAQAAIAAAAIAAwAAAARAP3/AAAHAAsAAAARAP7/AAAIAAwAAAARAP//AAAHAAwAAAARAAAAAAAIAAwAAAARAAEAAAAIAAwAAAARAAIAAAAHAAwAAAD8/wUAAAAHAAwAAAD9/wUAAAAHAAwAAAANAPr/AAAGAAcAAAANAPv/AAAGAAgAAAANAPz/AAAGAAgAAAAQAPr/AAAIAAcAAAAOAPr/AAAHAAcAAAAPAPr/AAAHAAcAAAAOAPv/AAAHAAgAAAAPAPv/AAAHAAgAAAAQAPv/AAAHAAgAAAAQAPz/AAAHAAgAAAAPAPz/AAAHAAgAAAAOAPz/AAAHAAgAAAACAPv/AAAHAAsAAAADAPv/AAAHAAsAAAAEAPv/AAAHAAsAAAA=")
tile_set = ExtResource("1_pm3e6")

[node name="YSortObject" type="Node2D" parent="."]
y_sort_enabled = true

[node name="Player" parent="YSortObject" instance=ExtResource("2_eba4g")]
position = Vector2(-98, 158)

[node name="GroundProps" type="TileMapLayer" parent="YSortObject"]
y_sort_enabled = true
tile_map_data = PackedByteArray("AAD3//7/AAABABgAAAD4//7/AAABABgAAAD5//7/AAADABkAAAD6//7/AAABABgAAAD7//3/AAACABcAAAD7//7/AAACABgAAAD7//z/AAACABcAAAD7//v/AAACABcAAAD7//r/AAACABcAAAD5//3/AAADABgAAAAAAPv/AAAOABQAAAABAP3/AAAFABAAAAACAP3/AAAGABAAAAADAP3/AAAGABAAAAAEAP3/AAAHABAAAAAFAP3/AAAIABAAAAD3/wEAAAABABIAAAD3/wIAAAABABIAAAD3/wMAAAABABIAAAD9//j/AAAYAA8AAAD8/wUAAAALABIAAAD9/wUAAAALABIAAAANAPv/AQAcAB8AAAAQAPr/AQARAB4AAAAQAPv/AQAPAB4AAAAQAPz/AQARAB4AAAACAPv/AAAYABIAAAABAP7/AAAFABEAAAAFAP7/AAAIABEAAAACAP7/AAAGABEAAAADAP7/AAAGABEAAAAEAP7/AAAHABEAAAA=")
tile_set = ExtResource("1_pm3e6")

[node name="Walls" type="TileMapLayer" parent="YSortObject"]
z_index = -1
y_sort_enabled = true
tile_map_data = PackedByteArray("AAD3//r/AAACAAkAAAD4//r/AAACAAkAAAD5//r/AAADAAkAAAD6//r/AAACAAkAAAD7//r/AAADAAkAAAD8//r/AAADAAkAAAD9//r/AAADAAkAAAD+//r/AAACAAkAAAD///r/AAACAAkAAAAAAPr/AAACAAkAAAABAPr/AAACAAkAAAACAPr/AAACAAkAAAADAPr/AAADAAkAAAAEAPr/AAADAAkAAAAFAPr/AAADAAkAAAAGAPr/AAADAAkAAAAHAPr/AAADAAkAAAAIAPr/AAADAAkAAAD3//n/AAACAA0AAAD4//n/AAACAA0AAAD5//n/AAADAA0AAAD6//n/AAADAA0AAAD7//n/AAADAA0AAAD8//n/AAACAA0AAAD9//n/AAADAA0AAAD+//n/AAACAA0AAAD///n/AAACAA0AAAAAAPn/AAADAA0AAAABAPn/AAACAA0AAAACAPn/AAACAA0AAAADAPn/AAADAA0AAAAEAPn/AAACAA0AAAAFAPn/AAADAA0AAAAGAPn/AAACAA0AAAAHAPn/AAADAA0AAAAIAPn/AAACAA0AAAD3//j/AAACAA0AAAD4//j/AAADAA0AAAD5//j/AAACAA0AAAD6//j/AAADAA0AAAD7//j/AAACAA0AAAD8//j/AAADAA0AAAD9//j/AAACAA0AAAD+//j/AAADAA0AAAD///j/AAACAA0AAAAAAPj/AAADAA0AAAABAPj/AAACAA0AAAACAPj/AAADAA0AAAADAPj/AAACAA0AAAAEAPj/AAADAA0AAAAFAPj/AAACAA0AAAAGAPj/AAADAA0AAAAHAPj/AAACAA0AAAAIAPj/AAADAA0AAAD3//b/AAACAAcAAAD3//f/AAACAAgAAAD4//b/AAADAAcAAAD4//f/AAADAAgAAAD5//b/AAACAAcAAAD5//f/AAACAAgAAAD6//b/AAADAAcAAAD6//f/AAADAAgAAAD7//b/AAACAAcAAAD7//f/AAACAAgAAAD8//b/AAADAAcAAAD8//f/AAADAAgAAAD9//b/AAACAAcAAAD9//f/AAACAAgAAAD+//b/AAADAAcAAAD+//f/AAADAAgAAAD///b/AAACAAcAAAD///f/AAACAAgAAAAAAPb/AAADAAcAAAAAAPf/AAADAAgAAAABAPb/AAACAAcAAAABAPf/AAACAAgAAAACAPb/AAADAAcAAAACAPf/AAADAAgAAAADAPb/AAACAAcAAAADAPf/AAACAAgAAAAEAPb/AAADAAcAAAAEAPf/AAADAAgAAAAFAPb/AAACAAcAAAAFAPf/AAACAAgAAAAGAPb/AAADAAcAAAAGAPf/AAADAAgAAAAHAPb/AAACAAcAAAAHAPf/AAACAAgAAAAIAPb/AAADAAcAAAAIAPf/AAADAAgAAAAJAPb/AAAEAAcAAAD2//b/AAABAAcAAAD2//f/AAAAAAkAAAD2//j/AAAAAAkAAAD2//n/AAAAAAkAAAD2//r/AAAAAAkAAAD2//v/AAAAAAkAAAD2//z/AAAAAAkAAAD2//3/AAAAAAkAAAD2//7/AAAAAAkAAAD2////AAAAAAkAAAD2/wAAAAAAAAkAAAD2/wEAAAAAAAkAAAD2/wIAAAAAAAkAAAD2/wMAAAAAAAkAAAD2/wQAAAAAAAkAAAD2/wUAAAAAAAsAAAD3/wUAAAACAAwAAAD4/wUAAAACAAwAAAD5/wUAAAACAAwAAAD6/wUAAAACAAwAAAD7/wUAAAABAAsAAAD7/wYAAAABAAwAAAD8/wYAAAACAAwAAAD9/wYAAAADAAwAAAD+/wUAAAAEAAsAAAD+/wYAAAAEAAwAAAD//wUAAAADAAwAAAAAAAUAAAADAAwAAAABAAUAAAADAAwAAAACAAUAAAADAAwAAAADAAUAAAADAAwAAAAEAAUAAAADAAwAAAAFAAUAAAADAAwAAAAGAAUAAAADAAwAAAAHAAUAAAADAAwAAAAIAAUAAAADAAwAAAAJAAUAAAAFAAsAAAAJAAMAAAAEAAsAAAAJAAQAAAAFAAoAAAAKAAMAAAADAAwAAAALAAMAAAADAAwAAAAMAAMAAAADAAwAAAANAAMAAAADAAwAAAAOAAMAAAADAAwAAAAPAAMAAAADAAwAAAAQAAMAAAADAAwAAAARAAMAAAADAAwAAAASAAMAAAAFAAsAAAASAAIAAAAFAAoAAAASAAEAAAAFAAoAAAASAAAAAAAFAAoAAAASAP//AAAFAAoAAAASAP7/AAAFAAoAAAASAP3/AAAFAAoAAAASAPz/AAAFAAkAAAAJAPz/AAAEAAoAAAAJAPv/AAAEAA0AAAAJAPn/AAAEAAkAAAAJAPj/AAAEAAgAAAAJAPf/AAAFAAkAAAAJAPr/AAAEAA0AAAAKAPz/AAACAAkAAAAMAPz/AAABAAoAAAARAPz/AAAEAAoAAAAKAPj/AAACAAcAAAAKAPn/AAACAAgAAAALAPj/AAADAAcAAAALAPn/AAADAAgAAAAMAPj/AAABAAgAAAAMAPn/AAABAAkAAAARAPn/AAAEAAkAAAASAPj/AAAEAAcAAAASAPn/AAAFAAkAAAASAPr/AAAFAAkAAAASAPv/AAAFAAkAAAAKAPr/AAACAA0AAAALAPr/AAADAA0AAAAMAPr/AAABAA0AAAARAPr/AAAEAA0AAAARAPv/AAAEAA0AAAAMAPv/AAABAA0AAAAKAPv/AAACAA0AAAALAPv/AAADAA0AAAALAPz/AAACAAkAAAARAPj/AAAEAAgAAAAMAPf/AAAAAAkAAAAMAPb/AAAAAAkAAAARAPf/AAAFAAkAAAARAPb/AAAFAAkAAAANAPX/AAACAAcAAAAOAPX/AAACAAcAAAAPAPX/AAACAAcAAAAQAPX/AAACAAcAAAANAPb/AAACAAgAAAAOAPb/AAACAAgAAAAPAPb/AAACAAgAAAAQAPb/AAACAAgAAAANAPj/AAACAA0AAAAOAPj/AAACAA0AAAAPAPj/AAACAA0AAAAQAPj/AAACAA0AAAANAPn/AAACAAkAAAAOAPn/AAADAAkAAAAPAPn/AAACAAkAAAAQAPn/AAADAAkAAAAMAPX/AAABAAcAAAARAPX/AAAEAAcAAAANAPf/AAACAA0AAAAOAPf/AAACAA0AAAAPAPf/AAACAA0AAAAQAPf/AAACAA0AAAA=")
tile_set = ExtResource("1_pm3e6")

[node name="WallProps" type="TileMapLayer" parent="YSortObject"]
y_sort_enabled = true
tile_map_data = PackedByteArray("AAD4//n/AAAUABAAAAA=")
tile_set = ExtResource("1_pm3e6")

[node name="TownEntrance" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="TownEntrance"]
position = Vector2(-96, 174)
shape = SubResource("RectangleShape2D_pvlsy")
debug_color = Color(0.956474, 0, 0.537738, 0.42)

[node name="TransitionManager" type="Node2D" parent="." node_paths=PackedStringArray("player")]
script = ExtResource("3_pvlsy")
player = NodePath("../YSortObject/Player")
level_scenes = Array[String](["res://levels/town_2/town.tscn"])

[node name="Lights" type="Node2D" parent="."]
script = ExtResource("4_33b1u")
metadata/_custom_type_script = "uid://dnwf3ha7latv3"

[node name="PointLight2D" type="PointLight2D" parent="Lights"]
position = Vector2(58.25, -58.875)
scale = Vector2(10.8672, 7.21484)
energy = 0.5
texture = SubResource("GradientTexture2D_5mx2h")

[node name="PointLight2D17" type="PointLight2D" parent="Lights"]
position = Vector2(478, -140)
scale = Vector2(2.29688, 2.17969)
texture = SubResource("GradientTexture2D_5mx2h")

[node name="ColorRect" type="ColorRect" parent="."]
z_index = -8
offset_left = -1095.0
offset_top = -852.0
offset_right = 1452.0
offset_bottom = 843.0
color = Color(0, 0, 0, 1)

[connection signal="body_entered" from="TownEntrance" to="TransitionManager" method="_on_town_entrance_body_entered"]
[connection signal="body_exited" from="TownEntrance" to="TransitionManager" method="_on_town_entrance_body_exited"]
